{
  "hash": "4f12389cd354c24478444b264043200a",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat:\n  pdf:\n    prefer-html: true\n---\n\n\n\n\n# Open transportation data\n\nIn this chapter we will guide you through sources of open data for transportation analysis: road networks and public transportation information.\n\n## Road Networks\n\n### OpenStreetMap\n\nThe OpenStreetMap is a collaborative online mapping project that creates a free editable map of the world.\n\nThis is the most used source of road network data for transportation analysis in academia, since it is available almost **everywhere in the world**, is open and free to use.\n\n::: {.callout-caution appearance=\"simple\"}\nAlthough it can be not 100% accurate, OSM is a good source of data for most of the cases.\n:::\n\nYou can access it's visualization tool at [www.openstreetmap.org](https://www.openstreetmap.org/).\nTo edit the map, you can use the [Editor](https://www.openstreetmap.org/edit), once you register.\n\nIf you want to **download** the data, you can use the following tools.\n\n-   [Overpass API](https://wiki.openstreetmap.org/wiki/Overpass_API)\n-   [Geofabrik](https://download.geofabrik.de/)\n\nThese websites include all the OSM data, with **much more information than you need**.\n\n### HOT Export Tool\n\nThis interactive tool helps you to select the **region** you want to extract, the type of **information** to include, and the output data **format**.\n\nAccess via [export.hotosm.org](https://export.hotosm.org/)[^open-data-1].\n\n[^open-data-1]: You need an OSM account to use it.\n\n![](images/clipboard-1441436716.png)\n\nAfter the export, you can read in R using the `sf` package:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nGent = sf::st_read(\"../data/Gent_center.gpkg\", quiet = TRUE)\n\nmapview::mapview(Gent, zcol = \"highway\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nPhantomJS not found. You can install it with webshot::install_phantomjs(). If it is installed, please make sure the phantomjs executable can be found via the PATH variable.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nfile:////tmp/RtmpCvwQO3/file23d01651499d/widget23d01e6a62dc.html screenshot completed\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](open-data_files/figure-pdf/unnamed-chunk-1-1.png){fig-pos='H'}\n:::\n:::\n\n\n\n\n### OSM in R\n\nThere are also some R packages that can help you to download and work with OpenStreetMap data, such as:\n\n-   [`osmdata`](https://cran.r-project.org/web/packages/osmdata/index.html)\n-   [`osmextract`](https://docs.ropensci.org/osmextract)\n\nThis is an example of how to download OpenStreetMap road network data using the `osmextract` package:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(osmextract)\nOSM_Malta = oe_get_network(place = \"Malta\") # it will geocode the place\n\nMalta_main_roads = OSM_Malta |> \n  filter(highway %in% c(\"primary\", \"secondary\", \"tertiary\", \"trunk\"))\n\nplot(Malta_main_roads[\"highway\"])\n```\n:::\n\n\n\n\n![](images/malta_roads.png){fig-align=\"center\"}\n\n## Transportation Services' Data\n\n### GTFS\n\nGeneral Transit Feed Specification (GTFS) is [standard format](https://developers.google.com/transit/gtfs/reference) for documenting public transportation information, including: routes, schedules, stop locations, calendar patterns, trips, and possible transfers.\nTransit agencies are responsible for maintaining the data up-to-date.\n\nThis information is used in several applications, such as Google Maps, to provide public transportation directions.\nIt can be offered for a city, a region, or even a whole country, depending on the PT agency.\n\nThe recent version 2 of the GTFS standard includes more information, such as **real-time data**.\n\nThe data is usually in a `.zip` file that includes several `.txt` files (one for each type of information) with tabular relations.\n\n![Source: [trilliumtransit.com](https://trilliumtransit.com/2016/07/05/gtfs-examples/)](images/clipboard-2676687965.png){fig-align=\"center\" width=\"493\"}\n\n#### Online sources\n\nYou can find most GTFS data in the following websites:\n\n-   [TransitLand](https://www.transit.land)\n-   [TransitFeeds](https://transitfeeds.com/)\n\nSome PT agencies also provide their open-data in their websites.\n\n#### R packages\n\nThere are some nice R packages to read and manipulate GTFS data, such as:\n\n-   [`tidytransit`](https://r-transit.github.io/tidytransit/)\n-   [`gtfstools`](https://ipeagit.github.io/gtfstools/)\n\n::: {.callout-note appearance=\"simple\"}\nBe aware that they may share the same function names, so it is important to use of of them at the time.\n:::\n\n### National Access Points\n\nThe European Union has a directive that requires the member states to provide access to transportation data.\nData includes not only **Public Transportation** data, but also **road network**s, car **parking**, and other transportation-related information.\n\n[List of the European Union members states with National Access Points for Transportation data](https://transport.ec.europa.eu/transport-themes/smart-mobility/road/its-directive-and-action-plan/national-access-points_en)\n\nExample of Bus services data in Belgium:\n\n[![Source: Transport Data Belgium](images/clipboard-3645209787.png)](https://www.transportdata.be/en/dataset?tags=Bus)\n",
    "supporting": [
      "open-data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}